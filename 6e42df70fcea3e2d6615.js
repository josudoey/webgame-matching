"use strict";(self.webpackChunkwebgame_matching=self.webpackChunkwebgame_matching||[]).push([[235],{235:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});const s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid px-0",on:{paste:function(e){return e.preventDefault(),t.onPaste.apply(null,arguments)},drop:function(e){return e.preventDefault(),t.onDrop.apply(null,arguments)},dragover:function(t){t.preventDefault()}}},[n("nav",{staticClass:"navbar navbar-dark bg-dark"},[n("div",{staticClass:"navbar-brand d-flex"},[t._v("翻翻樂"),n("open-image",{staticClass:"mb-0",on:{load:t.insert}},[t._v("上傳")]),t.items.length?n("div",{staticClass:"btn btn-primary btn-sm",on:{click:t.reset}},[t._v("重置")]):t._e()],1)]),n("div",{staticClass:"container-fluid px-0 d-flex flex-wrap justify-content-around align-items-center",staticStyle:{"min-height":"calc(100vh - 60px)"}},t._l(t.items,(function(e,s){return n("div",{key:e.no,staticClass:"game-card mt-2"},[n("transition",{staticClass:"d-relative",attrs:{name:"flip"}},[e.flipped?n("div",{key:"front",staticClass:"card pb-0 d-absolute game-card",on:{click:function(n){return t.choice(e)}}},[n("img",{staticClass:"justify-content-around align-items-center mw-100 mh-100",attrs:{src:e.src}})]):n("div",{key:"back",staticClass:"card pb-0 d-absolute",attrs:{src:e.src},on:{click:function(n){return t.choice(e)}}},[n("div",{staticClass:"w-100 game-card jumbotron text-center mb-0 d-flex justify-content-around align-items-center h1"},[t._v(t._s(e.no))])])])],1)})),0)])},staticRenderFns:[],components:{OpenImage:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.id?n("div",{staticClass:"d-inline-block"},[n("b-form-file",{staticStyle:{display:"none"},attrs:{id:t.id,placeholder:"請選擇檔案...",accept:".jpg, .png",plain:""},on:{change:t.parseFile}}),n("label",{staticClass:"btn btn-secondary btn-sm mb-0",attrs:{for:t.id}},[n("b-icon-card-image")],1)],1):t._e()},staticRenderFns:[],props:[],data:function(){return{id:""}},mounted:function(){this.id=`img-${this._uid}`},methods:{parseFile:function(t){const e=this,n=t.srcElement,s=n.files[0];n.value="";const i=new window.FileReader;i.addEventListener("load",(function(){const t=i.result,n=new window.Image;n.onload=function(){const{width:s,height:i}=this;Object.assign(e,{width:s,height:i,url:t}),e.$emit("load",n,e)},n.src=t}),!1),s&&i.readAsDataURL(s)}}}},data:()=>({first:null,second:null,items:[]}),mounted(){n.e(1).then(n.bind(n,1))},methods:{onPaste(t){[...t.clipboardData.files].forEach((t=>{this.parseImg(t)}))},onDrop(t){[...t.dataTransfer.files].forEach((t=>{this.parseImg(t)}))},parseImg:function(t){const e=this,n=new window.FileReader;n.addEventListener("load",(function(){const t=n.result,s=new window.Image;s.onload=function(){e.insert(s)},s.src=t}),!1),t&&n.readAsDataURL(t)},insert(t){if(!t)return;const e=this.items.length/2;for(let n=0;n<2;n++)this.items.push({id:e,flipped:!1,src:t.src});this.reset()},choice(t){if(this.second)return this.first.flipped=!1,this.second.flipped=!1,void Object.assign(this,{first:null,second:null});if(t.flipped)return;const{first:e}=this;t.flipped=!0,e?t.id===e.id?this.first=null:this.second=t:this.first=t},reset(){const t=this.items,e=t.length;for(let n=0;n<e;n++)for(let s=n+1;s<e;s++){const s=parseInt(Math.random()*e),i=t[s];t[s]=t[n],t[n]=i}Object.assign(this,{first:null,second:null});for(let n=0;n<e;n++)t[n].no=n+1,t[n].flipped=!1}}}}}]);