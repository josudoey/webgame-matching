"use strict";(self.webpackChunkwebgame_matching=self.webpackChunkwebgame_matching||[]).push([[235],{235:(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});const n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid px-0",on:{paste:function(e){return e.preventDefault(),t.onPaste.apply(null,arguments)},drop:function(e){return e.preventDefault(),t.onDrop.apply(null,arguments)},dragover:function(t){t.preventDefault()}}},[s("nav",{staticClass:"navbar navbar-dark bg-dark"},[s("div",{staticClass:"navbar-brand d-flex"},[t._v("翻翻樂"),s("open-image",{staticClass:"mb-0",on:{load:t.insert}},[t._v("上傳")]),t.items.length?[s("div",{staticClass:"btn btn-primary btn-sm",on:{click:t.reset}},[t._v("重置")]),s("b-form-input",{staticClass:"my-auto ml-1",attrs:{type:"range",min:"100",max:"400",step:"5"},model:{value:t.size,callback:function(e){t.size=t._n(e)},expression:"size"}})]:t._e()],2)]),s("div",{staticClass:"container-fluid px-0 d-flex flex-wrap justify-content-around align-items-center",staticStyle:{"min-height":"calc(100vh - 60px)"}},t._l(t.items,(function(e,n){return s("div",{key:e.no,staticClass:"game-card mt-2",style:{width:t.size+"px",height:t.size+"px"}},[s("transition",{staticClass:"d-relative",attrs:{name:"flip"}},[e.flipped?s("div",{key:"front",staticClass:"card pb-0 d-absolute game-card justify-content-around align-items-center",style:{width:t.size+"px",height:t.size+"px"},on:{click:function(s){return t.choice(e)}}},[s("img",{staticClass:"mw-100 mh-100",attrs:{src:e.src}})]):s("div",{key:"back",staticClass:"card p-0 d-absolute btn",attrs:{src:e.src},on:{click:function(s){return t.choice(e)}}},[s("div",{staticClass:"w-100 game-card jumbotron text-center mb-0 d-flex justify-content-around align-items-center h1",style:{width:t.size+"px",height:t.size+"px"}},[t._v(t._s(e.no))])])])],1)})),0)])},staticRenderFns:[],components:{OpenImage:{render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.id?s("div",{staticClass:"d-inline-block"},[s("b-form-file",{staticStyle:{display:"none"},attrs:{id:t.id,placeholder:"請選擇檔案...",accept:".jpg, .png",plain:""},on:{change:t.parseFile}}),s("label",{staticClass:"btn btn-secondary btn-sm mb-0",attrs:{for:t.id}},[s("b-icon-card-image")],1)],1):t._e()},staticRenderFns:[],props:[],data:function(){return{id:""}},mounted:function(){this.id=`img-${this._uid}`},methods:{parseFile:function(t){const e=this,s=t.srcElement,n=s.files[0];s.value="";const i=new window.FileReader;i.addEventListener("load",(function(){const t=i.result,s=new window.Image;s.onload=function(){const{width:n,height:i}=this;Object.assign(e,{width:n,height:i,url:t}),e.$emit("load",s,e)},s.src=t}),!1),n&&i.readAsDataURL(n)}}}},data:()=>({size:200,first:null,second:null,items:[]}),mounted(){s.e(1).then(s.bind(s,1))},methods:{onPaste(t){[...t.clipboardData.files].forEach((t=>{this.parseImg(t)}))},onDrop(t){[...t.dataTransfer.files].forEach((t=>{this.parseImg(t)}))},parseImg:function(t){const e=this,s=new window.FileReader;s.addEventListener("load",(function(){const t=s.result,n=new window.Image;n.onload=function(){e.insert(n)},n.src=t}),!1),t&&s.readAsDataURL(t)},insert(t){if(!t)return;const e=this.items.length/2;for(let s=0;s<2;s++)this.items.push({id:e,flipped:!1,src:t.src});this.reset()},choice(t){if(this.second)return this.first.flipped=!1,this.second.flipped=!1,void Object.assign(this,{first:null,second:null});if(t.flipped)return;const{first:e}=this;t.flipped=!0,e?t.id===e.id?this.first=null:this.second=t:this.first=t},reset(){const t=this.items,e=t.length;for(let s=0;s<e;s++)for(let n=s+1;n<e;n++){const n=parseInt(Math.random()*e),i=t[n];t[n]=t[s],t[s]=i}Object.assign(this,{first:null,second:null});for(let s=0;s<e;s++)t[s].no=s+1,t[s].flipped=!1}}}}}]);